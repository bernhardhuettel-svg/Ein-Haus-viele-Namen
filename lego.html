<!DOCTYPE html>
<html lang="de">
<head>
<meta charset="UTF-8">
<title>3D Architektur – realistisches Haus</title>
<meta name="viewport" content="width=device-width, initial-scale=1.0">
<style>
    body { margin: 0; background: #f0f0f0; font-family: system-ui, sans-serif; text-align: center; }
    header { padding: 20px; background: #fff; border-bottom: 1px solid #ccc; }
    #container { width: 100%; height: 600px; margin: 20px auto; background: #dddddd; }
</style>
</head>
<body>

<header>
    <h1>Realistisches Haus auf Grundstück</h1>
    <p>Automatische Kameradrehung um Haus</p>
</header>

<div id="container"></div>

<script type="module">
import * as THREE from 'https://cdn.jsdelivr.net/npm/three@0.158/build/three.module.js';

function init3D() {
    const container = document.getElementById("container");
    container.innerHTML = "";

    /* Szene */
    const scene = new THREE.Scene();
    scene.background = new THREE.Color(0xcceeff);

    /* Kamera */
    const camera = new THREE.PerspectiveCamera(60, container.clientWidth / container.clientHeight, 0.1, 1000);
    camera.position.set(40, 25, 40); // weiter weg, ganze Szene sichtbar

    /* Renderer */
    const renderer = new THREE.WebGLRenderer({ antialias: true });
    renderer.setSize(container.clientWidth, container.clientHeight);
    renderer.setPixelRatio(window.devicePixelRatio);
    container.appendChild(renderer.domElement);

    /* Licht */
    scene.add(new THREE.AmbientLight(0xffffff, 0.6));
    const sun = new THREE.DirectionalLight(0xffffff, 1);
    sun.position.set(50, 100, 50);
    scene.add(sun);

    /* Materialien */
    const groundMat = new THREE.MeshStandardMaterial({ color: 0x88aa66 });
    const wallMat   = new THREE.MeshStandardMaterial({ color: 0xc19a6b });
    const roofMat   = new THREE.MeshStandardMaterial({ color: 0x4f7c4f });
    const windowMat = new THREE.MeshStandardMaterial({ color: 0x88ccff, transparent: true, opacity: 0.5 });
    const doorMat   = new THREE.MeshStandardMaterial({ color: 0x333333 });

    /* Grundstück */
    const ground = new THREE.Mesh(new THREE.PlaneGeometry(20, 40), groundMat);
    ground.rotation.x = -Math.PI / 2;
    scene.add(ground);

    /* Haus */
    const house = new THREE.Mesh(new THREE.BoxGeometry(12, 6, 12), wallMat);
    house.position.set(0, 3, 0); // Haus auf Bodenmitte
    scene.add(house);

    /* Dach */
    const roof = new THREE.Mesh(new THREE.BoxGeometry(13, 2, 13), roofMat);
    roof.position.set(0, 7, 0);
    scene.add(roof);

    /* Tür */
    const door = new THREE.Mesh(new THREE.BoxGeometry(2, 3, 0.2), doorMat);
    door.position.set(0, 1.5, 6.1);
    scene.add(door);

    /* Fenster */
    function addWindow(x, y, z) {
        const win = new THREE.Mesh(new THREE.BoxGeometry(2, 2, 0.2), windowMat);
        win.position.set(x, y, z);
        scene.add(win);
    }
    addWindow(-4, 3, 6.1);
    addWindow(4, 3, 6.1);
    addWindow(-6.1, 3, 0);
    addWindow(6.1, 3, 0);

    /* =========================
       Kamera-Auto-Rotation
    ========================= */
    let angle = 0;
    const radius = 40;

    function animate() {
        requestAnimationFrame(animate);

        angle += 0.002;
        camera.position.x = 0 + radius * Math.cos(angle);
        camera.position.z = 0 + radius * Math.sin(angle);
        camera.position.y = 25;
        camera.lookAt(0, 3, 0); // Mittelpunkt Haus (Hälfte Höhe)

        renderer.render(scene, camera);
    }
    animate();

    /* Resize */
    window.addEventListener("resize", () => {
        camera.aspect = container.clientWidth / container.clientHeight;
        camera.updateProjectionMatrix();
        renderer.setSize(container.clientWidth, container.clientHeight);
    });
}

init3D();
</script>

</body>
</html>
